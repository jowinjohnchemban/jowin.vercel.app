#!/usr/bin/env sh
# Pre-commit hook for code quality checks
# Install: cp .husky/pre-commit .git/hooks/pre-commit && chmod +x .git/hooks/pre-commit

echo "ğŸ” Running pre-commit checks..."

# Check linting
echo "ğŸ“ Checking ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint check failed. Run 'npm run lint:fix' to fix issues."
  exit 1
fi

# Check TypeScript
echo "ğŸ“˜ Checking TypeScript..."
npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript check failed."
  exit 1
fi

# Check formatting
echo "ğŸ¨ Checking formatting..."
npx prettier --check src/
if [ $? -ne 0 ]; then
  echo "âš ï¸  Formatting issues found. Run 'prettier --write src/' to fix."
fi

echo "âœ… All checks passed! Committing..."
